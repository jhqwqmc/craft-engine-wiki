---
title: 简单存储服务
id: s3
---

import Highlight from '@site/src/components/Highlight';

<Highlight color="#1877F2">**高级用户**</Highlight><Highlight color="#ae1010ff">**付费**</Highlight>

S3 (简单存储服务) 是云服务提供商提供的一种高可扩展性、持久且高可用的对象存储服务。为了防止被盗刷流量，CraftEngine 会为每次下载签发唯一且会过期的令牌，从而有效阻止直接的滥用行为。

```yaml
resource-pack:
  delivery:
    hosting:
      - type: s3
        endpoint: "" # 端点，不能包含 https:// 或者 http:// 开头
        bucket: "" # 桶名称
        access-key-id: ""
        access-key-secret: ""
        # 可选选项
        use-environment-variables: false # 是否使用环境变量提供机密信息，默认为 false
        protocol: "https" # 端点访问协议支持 https 和 http，默认为 https
        path-style: false # 选择端点访问风格，启用使用 Path 风格，不启用使用 Virtual Hosted 风格，默认为 false
        region: "auto" # 若 auto 无法使用才需要填写对应的区域，默认为 auto
        upload-path: "server_resource_pack.zip" # 上传资源包路径，默认为 craftengine/resource_pack.zip
        disable-calculate-sha256: false # 是否在上传前不计算 sha256 启用后可以节约一次计算开销但是不一定全部的服务提供商都支持，默认为 false
        validity: 10 # 预签名的链接有效期单位为秒，默认为 10，译者注：请校准你的服务器时钟不然会导致这个不准确
        # 可选请求限速配置
        rate-map:
          max-requests: 5
          reset-interval: 20 # 单位为秒
        ## 可选 CDN 配置
        # cdn:
        #   domain: ""
        #   protocol: "https"
        ## 可选代理配置
        # proxy:
        #   host: "127.0.0.1"
        #   port: 7890
        #   scheme: "http" # http/https
        #   username: "" # 可选
        #   password: "" # 可选
```

<details>
    <summary>可用环境变量</summary>
    - CE_S3_ACCESS_KEY_ID
    - CE_S3_ACCESS_KEY_SECRET
</details>
