---
title: ğŸ“„ æ¨¡æ¿ç³»ç»Ÿ
id: template
---

import Comment from '@site/src/components/Comment';

## ç®€ä»‹

è¯¥æ’ä»¶æ‹¥æœ‰æé«˜çš„å¯è‡ªå®šä¹‰æ€§ï¼Œä½†å®Œå…¨æ— é¢„è®¾çš„é…ç½®éš¾ä»¥å®ç°ã€‚å³ä¾¿æœ€ç®€å•çš„é€‰é¡¹ä¹Ÿéœ€åœ¨YAMLä¸­å•ç‹¬å£°æ˜ã€‚å½“æ­¤ç±»å‚æ•°è¿‡å¤šæ—¶ï¼Œé…ç½®æ–‡ä»¶ä¼šå˜å¾—å†—é•¿ã€‚ä¸ºæ­¤ï¼Œæ’ä»¶å¼•å…¥äº†æ¨¡æ¿ç³»ç»Ÿï¼Œæ‚¨å¯å…ˆå®šä¹‰åŸºç¡€æ¨¡æ¿ï¼Œå†é€šè¿‡å‚æ•°å’Œè¦†å†™æœºåˆ¶æ¥ç®€åŒ–é…ç½®æµç¨‹ï¼Œå¤§å¹…å‡å°‘é‡å¤æ€§æ“ä½œè€—æ—¶ã€‚

## å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

é…ç½®æ¨¡æ¿æ—¶ï¼Œéœ€ä»¥ `templates` ä½œä¸º YAML æ–‡ä»¶çš„æ ¹é”®ã€‚`templates` ä¸‹çš„é¦–ä¸ªå…ƒç´ å³ä¸ºæ¨¡æ¿åç§°ï¼ˆå¦‚ä¸‹ä¾‹ä¸­ **`namespace:my_first_template`**ï¼‰ï¼Œè¯¥åç§°ä¸‹æ–¹çš„æ‰€æœ‰å†…å®¹æ„æˆå®é™…æ¨¡æ¿é…ç½®ã€‚

```yaml
templates:
  namespace:my_first_template:
    option_1: true
    option_2: false
    option_3: 
      - hello
    option_4: 20.25
    option_5:
      hello: world
```

è§‚çœ‹è¿™æ®µå¿«é€ŸåŠ¨ç”»äº†è§£æ’ä»¶å¦‚ä½•åº”ç”¨æ¨¡æ¿ï¼š

![](/img/i18n/zh-Hans/template_1.avif)

:::info

`namespace:template_id` ä½œä¸ºæ¨¡æ¿çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåœ¨åç»­è°ƒç”¨æ—¶å¿…é¡»ä½¿ç”¨è¯¥å®Œæ•´åç§°ã€‚

:::

:::tip

`namespace:template_id` ä¸‹æ–¹çš„é…ç½®éƒ¨åˆ†å®Œå…¨å¯è‡ªå®šä¹‰ï¼Œåªéœ€ç¬¦åˆYAMLè¯­æ³•è§„èŒƒå³å¯è‡ªç”±å®šä¹‰ã€‚

:::

## å¤šæ¨¡æ¿

æ‚¨å¯ä»¥é€šè¿‡å°† `template` è®¾ç½®ä¸ºåˆ—è¡¨æ¥ç»„åˆå¤šä¸ªæ¨¡æ¿ã€‚

```yaml
items:
  craftengine:custom_item:
     template:
       - namespace:my_first_template
       - namespace:my_second_template

```

:::warning

æ³¨æ„ï¼šè‹¥ä¸¤ä¸ªæ¨¡æ¿å­˜åœ¨ç›¸åŒé…ç½®é¡¹ï¼Œä¸‹æ–¹çš„æ¨¡æ¿ä¼šè¦†ç›–ä¸Šæ–¹é…ç½®ã€‚ä½†å½“é…ç½®é¡¹ä¸ºåˆ—è¡¨ç±»å‹æ—¶ï¼Œå®ƒä»¬å°†åˆå¹¶ä¸ºä¸€ä¸ªåˆ—è¡¨ã€‚

:::

![](/img/i18n/zh-Hans/template_2.avif)

## åˆå¹¶

åˆå¹¶åŠŸèƒ½ä¼šæ·±åº¦æ•´åˆä¸¤ä¸ªé…ç½®éƒ¨åˆ†ï¼ŒåŒ…å«æ‰€æœ‰åˆ—è¡¨â€”â€”æ— ä¸€é—æ¼ã€‚æœ¬è´¨ä¸Šï¼Œåˆå¹¶åŠŸèƒ½çš„å·¥ä½œåŸç†å‡ ä¹å®Œå…¨ç­‰åŒäºä½¿ç”¨å¤šä¸ªæ¨¡æ¿ã€‚

```yaml
items:
  craftengine:custom_bread:
    template: craftengine:apple_template
    arguments:
      nutrition: 1
      saturation: 2.5
    merges:
      data:
        food:
          can-always-eat: true
```

## è¦†å†™

è¦†å†™ä¼šå®Œå…¨æ›¿æ¢æŒ‡å®šé…ç½®è·¯å¾„ä¸‹çš„æ‰€æœ‰å†…å®¹â€”â€”åŒ…æ‹¬åˆ—è¡¨å’Œæ˜ å°„ï¼Œä¸è¿›è¡Œåˆå¹¶æ“ä½œï¼Œç›´æ¥æ•´ä½“æ›¿æ¢ã€‚

```yaml
items:
  craftengine:custom_bread:
    template: craftengine:apple_template
    arguments:
      nutrition: 1
      saturation: 2.5
    overrides:
      material: bread
```

![](/img/i18n/zh-Hans/template_4.avif)

## å‚æ•°

æ‚¨å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ `${xxx}` å®šä¹‰å‚æ•°ï¼Œæ¯”å¦‚ `${nutrition}` æˆ– `${saturation}`ã€‚ç„¶ååœ¨è°ƒç”¨æ¨¡æ¿æ—¶ï¼Œä½¿ç”¨ `arguments` éƒ¨åˆ†æ¥è®¾å®šå‚æ•°å€¼ã€‚è¿™é‡Œæœ‰ä¸ªç®€å•ç¤ºä¾‹ï¼š

```yaml
templates:
  craftengine:apple_template:
    material: apple
    data:
      food:
        nutrition: "${nutrition}"
        saturation: "${saturation}"
items:
  craftengine:custom_apple:
    template: craftengine:apple_template
    arguments:
      nutrition: 1
      saturation: 2.5
```

![](/img/i18n/zh-Hans/template_3.avif)

æ¨¡æ¿å‚æ•°æ˜¯æŒ‰é¡ºåºåº”ç”¨çš„ã€‚è¿™æ„å‘³ç€æ‚¨åˆšåˆšå®šä¹‰çš„å‚æ•°å¯ä»¥ç«‹å³åœ¨åç»­çš„ä»»ä½•å‚æ•°ä¸­ä½¿ç”¨ã€‚

```yaml
arguments:
  arg1: topaz
  arg2: helmet
  arg3: ${arg1}_${arg2}
```

:::info

è‹¥éœ€å°†èŠ±æ‹¬å· `{}` ä½œä¸ºæ™®é€šæ–‡æœ¬ä½¿ç”¨ï¼ˆè€Œéå‚æ•°æ ‡è¯†ï¼‰ï¼Œåªéœ€ä½¿ç”¨åæ–œæ è½¬ä¹‰ï¼š`\{` æˆ– `\}`ã€‚

`\${ä½ å¥½ä¸–ç•Œ}`

:::

:::tip

æ­¤å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªç‰¹æ®Šå‚æ•° `${__NAMESPACE__}` å’Œ `${__ID__}`ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨ä»å½“å‰éæ¨¡æ¿é…ç½®çš„å‘½åç©ºé—´IDä¸­è·å–ï¼Œå¹¶ä¼ é€’ç»™ä»»ä½•è¢«å¼•ç”¨çš„æ¨¡æ¿ã€‚ä¾‹å¦‚ï¼š

```yml
items:
  default:palm_log:
    template: default:my_template
templates:
  default:my_template:
    data:
      item-name: "<lang:item.${__NAMESPACE__}.${__ID__}>"
```

```yml
items:
  default:palm_log:
    data:
      item-name: "<lang:item.default.palm_log>"
```

:::

### é»˜è®¤å€¼

ä¸ºå‚æ•°è®¾ç½®é»˜è®¤å€¼æ—¶ï¼Œåœ¨å‚æ•°ååæ·»åŠ  `:-` å³å¯ï¼Œä¾‹å¦‚ï¼š

- `${nutrition:-1}`
- `${saturation:-2.5d}`
- `${map:-{aa:bb,cc:ddd}}`
- `${string:-"1234"}`
- `${nullable:-null}`

é»˜è®¤å€¼éµå¾ª Minecraft çš„ SNBT æ ¼å¼ï¼ˆä¸å‘½ä»¤ä¸­æŒ‡å®š NBT æ•°æ®æ—¶çš„æ ¼å¼ç›¸åŒï¼‰ã€‚

:::tip

é»˜è®¤å€¼ä¹Ÿæ”¯æŒé€’å½’åµŒå¥—å‚æ•°ï¼Œä¾‹å¦‚ï¼š

```yaml
item-name: "<!i><white>${arg1:-'${arg2:-\'${arg3:-abc}\'}'}"
```

:::

### æ‰©å±•å‚æ•°ç±»å‹

è™½ç„¶å¤§å¤šæ•°å‚æ•°åªæ˜¯ç®€å•çš„å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œä½†æŸäº›åœºæ™¯ä¸‹ï¼Œæ›´å‹å¥½çš„é€‰é¡¹ä¼šå¸¦æ¥æ›´å¥½çš„ä½“éªŒã€‚æ‰©å±•å‚æ•°ç±»å‹æ­£æ˜¯ä¸ºæ­¤ç±»æƒ…å†µè€Œåˆ›å»ºçš„ã€‚

- **åˆ—è¡¨**

```yml
arguments:
  arg1:
    - value1
    - value2
```

- **æ˜ å°„**

```yml
arguments:
  arg_1:
    option1: value1
    option2: value2
```

:::caution

å¦‚æœä½œä¸ºå‚æ•°ä½¿ç”¨çš„æ˜ å°„åŒ…å« `type` é”®ä¸”ä¸åº”è¢«è§£é‡Šä¸ºå‚æ•°ç±»å‹ï¼Œåˆ™å¿…é¡»æ·»åŠ  `__skip_template_argument__` æ ‡è®°ã€‚

```yaml
arguments:
  hitbox:
    __skip_template_argument__: {}
    type: shulker
    scale: 2
    peek: 100
```

:::

- <Comment text="æ¡ä»¶">**condition**</Comment>

å®ƒæ ¹æ®æ¡ä»¶é€‰æ‹©å‚æ•°å€¼ã€‚è¿™å…è®¸å°†æŸäº›éœ€è¦å­—ç¬¦ä¸²çš„å‚æ•°è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚

```yml
arguments:
  leaves_base_model:
    type: condition
    condition: "${tintable:-false}"
    on-true: leaves
    on-false: cube_all
```

- <Comment text="æ¡ä»¶åŒ¹é…">**when**</Comment>

å®ƒé€šè¿‡å°†æºå€¼ä¸ä¸€ç»„é¢„å®šä¹‰çš„æƒ…å†µè¿›è¡ŒåŒ¹é…æ¥é€‰æ‹©å€¼ã€‚è¿™å…è®¸å°†ä¸åŒçš„è¾“å…¥å€¼æ˜ å°„åˆ°ç‰¹å®šçš„è¾“å‡ºï¼Œå¹¶ä¸ºæœªåŒ¹é…çš„æƒ…å†µæä¾›å¯é€‰çš„å›é€€å€¼ã€‚

```yml
arguments:
  slot:
    type: when
    source: "${part}"
    when:
      helmet: head
      chestplate: chest
      leggings: legs
      boots: feet
    fallback: any
```

- <Comment text="è½¬æ¢ä¸ºå¤§å†™">**to_upper_case**</Comment> / <Comment text="è½¬æ¢ä¸ºå°å†™">**to_lower_case**</Comment>

```yml
items:
  default:test:
    template: mmoitems:tier_item
    arguments:
      tier: common
      name: "Test Item"
templates:
  mmoitems:tier_item:
    template: mmoitems:tier_item/internal
    arguments:
      tier.uppercase:
        type: to_upper_case
        value: "${tier}"
        locale: en
  mmoitems:tier_item/internal:
    data:
      item-name: "<!i><white><image:${tier}> ${name}"
      nbt:
        MMOITEMS_TIER: ${tier.uppercase}
```

- <Comment text="è‡ªå¢æ•´æ•°">**self_increase_int**</Comment>

æ¯å½“ `${id}` è¢«æ›¿æ¢æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œé€’å¢æˆ–é€’å‡æ“ä½œã€‚

```yml
arguments:
  id:
    type: self_increase_int
    from: 0
    to: 20
    step: 1
    step-interval: 1
```

- <Comment text="è¡¨è¾¾å¼">**expression**</Comment>

æ‰§è¡Œè¡¨è¾¾å¼å¹¶å°†å…¶è½¬æ¢ä¸ºæ‰€éœ€çš„æ•°å€¼ç±»å‹ã€‚

```yml
arguments:
  damage:
    type: expression
    expression: "${base_damage:-10d} * ${damage_multiplier:-1d}"
    value-type: double # int/double/short/long/float/boolean/byte
```