---
title: 🔢 数字格式
id: number_format
---

:::caution

这些数字格式在大多数地方都适用，除了早期开发的物品数据部分。我们将在下一次物品系统重构时尝试重新设计数字支持，以便更好地处理随机化物品。

:::

### 常量

提供一个固定的数值。

```yaml
type: constant
value: 1
```

:::tip
在大多数情况下，您可以使用以下简写形式。

```yaml
count:
  type: constant
  value: 1
```

->

```yaml
count: 1
```
:::

### 均匀随机数

在给定范围内提供一个随机数。

```yaml
type: uniform
min: 1
max: 3
```

:::tip
在大多数情况下，您可以使用以下简写形式。

```yaml
count:
  type: uniform
  min: 1
  max: 3
```

->

```yaml
count: 1~3
```

`min` 和 `max` 也都支持嵌套使用 `提供数字的标签`.

```yaml
count:
  type: uniform
  min:
    type: uniform
    min: 2
    max: 7
  max: "<papi:skilllevel_farming>*5~<papi:skilllevel_farming>*10"
```
:::

### 表达式

[https://ezylang.github.io/EvalEx/references/references.html](https://ezylang.github.io/EvalEx/references/references.html)

```yaml
type: expression
expression: "20 + 70 / 2"
```

:::tip
在大多数情况下，您可以使用以下简写形式。

```yaml
count:
  type: expression
  expression: "<papi:skilllevel_farming> / 20 + 5"
```

->

```yaml
count: "<papi:skilllevel_farming> / 20 + 5"
```

:::

### 高斯分布

使用高斯/正态分布作为随机数生成器

```yaml
type: gaussian

# 必需参数：随机数生成的下界限制
# 生成的随机数值将不会小于此值
# 用途：确保随机数在合理的应用范围内，避免异常小的数值
min: 10

# 必需参数：随机数生成的上界限制
# 生成的随机数值将不会大于此值
# 用途：确保随机数在合理的应用范围内，避免异常大的数值
max: 20

# 可选参数：高斯分布的均值（期望值）
# 定义分布的中心位置，即最可能出现的数值
# 默认值：(min + max) / 2.0，即范围的中间点
# 在此示例中：如果不指定，默认值也是15
mean: 15

# 可选参数：高斯分布的标准差
# 衡量数据的离散程度，值越小数据越集中，值越大数据越分散
# 默认值：(max - min) / 6.0，基于"6σ原则"（99.7%的值落在μ±3σ范围内）
# 在此示例中：如果不指定，默认值为(20-10)/6≈1.67
std-dev: 1

# 可选参数：生成有效随机数的最大尝试次数，默认为128
# 由于高斯分布理论上范围是(-∞, +∞)，但被min/max截断
# 当生成的数值超出[min,max]范围时，会重新生成
# 此参数防止因极端情况导致的无限循环
# 如果超过尝试次数仍未生成有效值，通常会返回最接近的边界值
max-attempts: 128
```

### 二项分布

使用二项分布作为随机数生成器

```yaml
type: binomial

# 必需参数：进行独立重复的伯努利试验的次数
extra: 10

# 必需参数：每次试验的成功概率
probability: 0.2
```
